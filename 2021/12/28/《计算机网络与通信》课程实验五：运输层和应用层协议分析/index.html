<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>《计算机网络与通信》课程实验五：运输层和应用层协议分析 | Riceater</title><script src="//unpkg.com/valine/dist/Valine.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.4.0/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.4.1"></head><body style="background-image:url(https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg);"><header><nav><a href="/">Home</a><a href="/archives/">Archives</a></nav></header><main><article><div id="post-bg"><div id="post-title"><h1>《计算机网络与通信》课程实验五：运输层和应用层协议分析</h1><hr></div><div id="post-content"><h3 id="实验目的："><a href="#实验目的：" class="headerlink" title="实验目的："></a>实验目的：</h3><p>TCP(TransmissionControlProtocol传输控制协议)是一种面向连接的、可靠的、基于字节流的传输层通信协议。本实验通过运用Wireshark对网络活动进行分析，观察TCP 协议报文，分析通信时序，理解TCP的工作过程，掌握TCP工作原理与实现；学会运用Wireshark分析TCP连接管理、流量控制和拥塞控制的过程，发现TCP的性能问题。</p>
<h3 id="实验内容："><a href="#实验内容：" class="headerlink" title="实验内容："></a>实验内容：</h3><hr>
<h4 id="任务1：TCP与拥塞控制"><a href="#任务1：TCP与拥塞控制" class="headerlink" title="任务1：TCP与拥塞控制"></a>任务1：TCP与拥塞控制</h4><h5 id="1、TCP正常连接观察"><a href="#1、TCP正常连接观察" class="headerlink" title="1、TCP正常连接观察"></a>1、TCP正常连接观察</h5><h6 id="（1）利用python自带的SimpleHTTPServer模块，在PC2上启动一个简易的web服务器。终端上运行echo-quot-TCPlabtest-quot-gt-index-html创建index-html文件为测试站首页，运行sudo-python-mSimpleHTTPServer80启动一个简易web服务器；打开新终端，键入ss-tln查看当前主机打开的TCP连接，确认80端口处理监听状态。"><a href="#（1）利用python自带的SimpleHTTPServer模块，在PC2上启动一个简易的web服务器。终端上运行echo-quot-TCPlabtest-quot-gt-index-html创建index-html文件为测试站首页，运行sudo-python-mSimpleHTTPServer80启动一个简易web服务器；打开新终端，键入ss-tln查看当前主机打开的TCP连接，确认80端口处理监听状态。" class="headerlink" title="（1）利用python自带的SimpleHTTPServer模块，在PC2上启动一个简易的web服务器。终端上运行echo&quot;TCPlabtest&quot;&gt;index.html创建index.html文件为测试站首页，运行sudo python-mSimpleHTTPServer80启动一个简易web服务器；打开新终端，键入ss-tln查看当前主机打开的TCP连接，确认80端口处理监听状态。"></a>（1）利用python自带的SimpleHTTPServer模块，在PC2上启动一个简易的web服务器。终端上运行<code>echo&quot;TCPlabtest&quot;&gt;index.htm</code>l创建index.html文件为测试站首页，运行<code>sudo python-mSimpleHTTPServer80</code>启动一个简易web服务器；打开新终端，键入<code>ss-tln</code>查看当前主机打开的TCP连接，确认80端口处理监听状态。</h6><p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223155517067.png"></p>
<p>确认监听80端口。</p>
<h6 id="（2）在PC1上打开一个终端，键入sudo-wireshark启动抓包软件；再打开一个新终端，键入curl-lt-PC2的IP-gt-；停止抓包，在wireshark过滤出TCP类型报文。观察首个TCP报文头，并分析各段值代表的意义。"><a href="#（2）在PC1上打开一个终端，键入sudo-wireshark启动抓包软件；再打开一个新终端，键入curl-lt-PC2的IP-gt-；停止抓包，在wireshark过滤出TCP类型报文。观察首个TCP报文头，并分析各段值代表的意义。" class="headerlink" title="（2）在PC1上打开一个终端，键入sudo wireshark启动抓包软件；再打开一个新终端，键入curl&lt;PC2的IP&gt;；停止抓包，在wireshark过滤出TCP类型报文。观察首个TCP报文头，并分析各段值代表的意义。"></a>（2）在PC1上打开一个终端，键入<code>sudo wireshark</code>启动抓包软件；再打开一个新终端，键入<code>curl&lt;PC2的IP&gt;</code>；停止抓包，在wireshark过滤出TCP类型报文。观察首个TCP报文头，并分析各段值代表的意义。</h6><p>首先查看PC1的ip地址为192.168.138.131，PC2的ip地址为192.168.138.129</p>
<p>启动wisshark后,在PC1中键入<code>curl 192.168.138.129</code>:</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223160708166.png"></p>
<p>抓取的包为<code>111.pcapng</code></p>
<p>过滤出TCP类型报文后。选择首个TCP报文头，并分析各段值代表的意义：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223162044637.png"></p>
<p>观察首个TCP报文头，发现<code>SYN = 1,seq = 272782184 </code>,根据TCP三次握手原理，第二个TCP报文应该<code>SYN = 1,ACKNO = 272782185 ,ACK = 1</code>：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223162541889.png"></p>
<p>点开发现第二个TCP报文发现确实如此：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223162643744.png"></p>
<p>且第二个TCP报文传输了自己的<code>seq = 1319604182</code></p>
<p>分析字段意义：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223170110620.png"></p>
<p>Frame3：整个报文字段</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223170147796.png"></p>
<p>Ethernet II：数据链路层以太网帧头部信息</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223163219027.png"></p>
<p>Internet Protocol Version 4：互联网层IP包头部信息</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223170223354.png"></p>
<p>TCP字段为蓝色部分。</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223163537104.png"></p>
<p>可以通过WireShark来查看各个字段的含义，如上图可以看到<code>89  ba </code>指出源端口。</p>
<p>同理：</p>
<p><code>00 50 </code>指出目的端口</p>
<p><code>10 42 53 68</code>为前述序列号</p>
<p><code>00 00 00 00</code>为ACK序列号，由于ACK等于0，所以该字段无意义。</p>
<p><code>a0 02</code> 为flags，02即00000010，表示SYN = 1</p>
<p><code>fa f0</code>为当前窗口宽度</p>
<p><code>96 84</code>为校验和字段</p>
<p><code>00 00</code>为紧急指针字段</p>
<p>剩下的为选项字段、填充和数据字段</p>
<h6 id="（3）观察TCP三次握手与四次挥手报文，注意报文收发过程中，双方TCP状态的变化。以本次捕获的报文为依据，分别画出本次TCP连接三次握手与四次挥手的时序图，结合TCP状态机，在双方各阶段标出对应的TCP状态。选择其中一个TCP报文，配合Wireshark截图，分析该报文TCP首部各字段的定义、值及其含义。"><a href="#（3）观察TCP三次握手与四次挥手报文，注意报文收发过程中，双方TCP状态的变化。以本次捕获的报文为依据，分别画出本次TCP连接三次握手与四次挥手的时序图，结合TCP状态机，在双方各阶段标出对应的TCP状态。选择其中一个TCP报文，配合Wireshark截图，分析该报文TCP首部各字段的定义、值及其含义。" class="headerlink" title="（3）观察TCP三次握手与四次挥手报文，注意报文收发过程中，双方TCP状态的变化。以本次捕获的报文为依据，分别画出本次TCP连接三次握手与四次挥手的时序图，结合TCP状态机，在双方各阶段标出对应的TCP状态。选择其中一个TCP报文，配合Wireshark截图，分析该报文TCP首部各字段的定义、值及其含义。"></a>（3）观察TCP三次握手与四次挥手报文，注意报文收发过程中，双方TCP状态的变化。以本次捕获的报文为依据，分别画出本次TCP连接三次握手与四次挥手的时序图，结合TCP状态机，在双方各阶段标出对应的TCP状态。选择其中一个TCP报文，配合Wireshark截图，分析该报文TCP首部各字段的定义、值及其含义。</h6><p>由于前面已经分析了两次握手，所以现在继续分析第三次握手，第三次握手为对第二次握手的确认，<code>ACK = 1,ACKNO = 1319604183</code>，收到后两边连接成功建立</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223164823484.png"></p>
<p>绘制Flow Graph：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223165618323.png"></p>
<p>第一次挥手报文由客户端给服务器发送 TCP=1 报文，请求关闭客户端到服务器的TCP连接</p>
<p>第二次挥手：服务器收到 FIN 后，发回一个 ACK=1 报文</p>
<p>第三次挥手：服务器关闭与客户端的连接，发送一个 FIN=1 报文</p>
<p>第四次挥手：客户端收到服务器发送的 FIN=1 报文之后，发回 ACK=1 确认，连接断开。</p>
<p>对TCP首部各字段的分析在上面已经完成。</p>
<h5 id="2、异常传输观察分析："><a href="#2、异常传输观察分析：" class="headerlink" title="2、异常传输观察分析："></a>2、异常传输观察分析：</h5><h6 id="（1）尝试连接未存活的主机或对未监听端口。"><a href="#（1）尝试连接未存活的主机或对未监听端口。" class="headerlink" title="（1）尝试连接未存活的主机或对未监听端口。"></a>（1）尝试连接未存活的主机或对未监听端口。</h6><p>(a)用curl访问一个不存在的主机IP，抓包观察共发送了几次SYN报文。根据每次时间间隔变化，估算RTO（重传超时）：</p>
<p>抓取的包为<code>222.pcapng</code></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223171050371.png"></p>
<p>观察到一共发送了4条SYN重传报文，时间间隔为1s,2s,4s,8s。</p>
<p>(b)查看Linux主机的系统的TCP参数SYN重传设定：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223171452982.png"></p>
<p>说明默认的重传次数为6</p>
<p>但为什么抓取的包只重传了4次呢，查阅资料后发现在Windows 10系统上上传次数不超过4次。</p>
<p>可能在Windows 10上的虚拟机也会受此限制</p>
<p>(c)更改 SYN 重传次数为 3：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223171736135.png"></p>
<p>(d) 再次 curl 访问，观察抓包内容：</p>
<p>抓取的包为<code>333.pcapng</code></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223171946102.png"></p>
<p>可以看到重传次数已经更改</p>
<p> (e)关闭服务器端的 SimpleHTTPServer(ctrl+C 中断，或关闭所在终端)，客户端 curl 访问服 务器 80 端口，观察应答报文。</p>
<p>抓取的包为<code>444.pcapng</code></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223183510480.png"></p>
<p>f) 运行 nmap -sS  &lt;PC2 的 IP&gt;  扫描服务器，并抓包。</p>
<p>抓取的包为<code>555.pcapng</code></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223183841933.png"></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223183922191.png"></p>
<p>扫描结果发现，21、22、23三个TCP端口开放，分别用于ftp、ssh、telnet服务</p>
<p>(g)在报告中总结以上观察结果，解释 SYN 扫描原理。</p>
<p>SYN扫描利用三次握手原理，向各个端口广发 <code>SYN=1 </code>报文，进行第一次握手，如果端口不合法，直接会 返回RST，端口如果合法，会进行第二次握手，返回 ACK/SYN 报文，扫描端由于并不是想要真正建立连 接，在第三次握手时发送RST”有礼貌的“拒绝连接，并记录下当前端口。</p>
<h6 id="2-客户端发送了第一个-SYN-连接请求，服务器无响应的情景。"><a href="#2-客户端发送了第一个-SYN-连接请求，服务器无响应的情景。" class="headerlink" title="(2) 客户端发送了第一个 SYN 连接请求，服务器无响应的情景。"></a>(2) 客户端发送了第一个 SYN 连接请求，服务器无响应的情景。</h6><p>(a) 服务器开启 telnet 或 ssh 服务，客户端先尝试连接服务器，连接成功后，在双方键入 ss -tan 查看所有 TCP 连接状态。 </p>
<p>ssh连接</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223185610483.png"></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223185759375.png"></p>
<p>（b）在客户端，利用iptables 拦截服务器回应的 SYN ACK 包，再次尝试连接并启动 wireshark 抓包， 并在双方多次用 ss -tan 观察 TCP 状态。</p>
<p>抓取的包为<code>666.pcapng</code></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223190713934.png"></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223190732737.png"></p>
<p>由于包被拦截，客户端收不到应答，只能按超时处理</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223191408528.png"></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223192133650.png"></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223192404058.png"></p>
<p>由于发出的报文可以被服务端收到，服务端会进入<code>SYN-RECV</code>状态，客户端会进入<code>SYN-SENT</code>状态，但由 于ACK被拦截，客户端只能反复发出建立请求，收不到应答，在一定次数的尝试后，不再尝试，重新进 入<code>LISTEN</code>状态。服务端由于反复收到SYN请求，可能会fork多个子进程应对。在都得不到第三次握手后 放弃，重新进入<code>LISTEN</code>状态。</p>
<p>(c) 观察 TCP 的状态变化，分析 wireshark 捕获的 TCP 异常报文。</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211223191807223.png"></p>
<p>(d) 服务端的 SYN-RECV 状态何时释放？</p>
<p>经测试，在一定时间没有收到客户端回应后释放。</p>
<p>(e) SYN ACK 重传了几次，时间间隔有何变化？</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226183733926.png"></p>
<p>可见客户端重传6次，时间间隔为1s,2s,4s,8s,16s,32s,服务端重传了11次，时间间隔为1s,2s,4s,8s,16s</p>
<p>(f) 参考 1 中的操作，在服务端修改 SYN ACK 重传次数 (tcp_synack_retries)，再次观察</p>
<p>修改重传次数：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226184402867.png"></p>
<p>再次抓包：</p>
<p>抓取的包为<code>777.pcapng</code></p>
<p><strong>（因为重新拷贝了一份服务端的虚拟机，所以现在服务端的ip地址变为<code>192.168.138.132</code>）</strong></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226185048631.png"></p>
<p>可以看到重传次数明显减少</p>
<h6 id="（3）SYN-洪泛。"><a href="#（3）SYN-洪泛。" class="headerlink" title="（3）SYN 洪泛。"></a>（3）SYN 洪泛。</h6><p>对服务器进行一些预处理：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226185441569.png"></p>
<p>使用 <code>sudo netwox 76 -i 192.168.138.132 -p 23 </code>进行洪泛攻击：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226185847466.png"></p>
<p>观察到服务端生成了大量的<code>SYN-RECV</code>状态</p>
<p>但此时发现使用SSH连接依旧可以建立：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226190010543.png"></p>
<p>抓取的包为<code>888.pcapng</code></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226192048365.png"></p>
<p>实际上现在的新版操作系统可以对SYN洪范攻击进行防御了，所以导致ssh还是能连接上。</p>
<p>解释 SYN 洪 泛攻击原理与对策：</p>
<p>SYN洪泛原理： 攻击者通过不同的IP地址向某一服务器短时间内发送大量的SYN报文，在服务器返回ACK后，不回应其 三次握手，使服务器端始终处于 SYN-RECV 等待状态，导致TCP挂起，占用大量的服务器资源。</p>
<p>SYN洪泛防范： </p>
<p>使用黑名单避免同一IP多次攻击。</p>
<p> 优化资源分配，延缓TCB分配，建立连接后，再行分配TCB。 </p>
<p>频繁监视系统挂起的连接，达到一定阈值时释放挂起连接，从而释放系统资源。</p>
<h6 id="（4）异常报文分析"><a href="#（4）异常报文分析" class="headerlink" title="（4）异常报文分析"></a>（4）异常报文分析</h6><p>​    (a) 产生一个100M 文件：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226192655546.png"></p>
<p>(b) 模拟网络延迟、包重复、包乱序、包损坏：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226192858739.png"></p>
<p>(c) 下载服务器上的大文件：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226193218112.png"></p>
<p>很明显的发现该文件出现问题。</p>
<p>对报文进行分析：</p>
<p>抓取的包为<code>999.pcapng</code></p>
<p><strong>Duplicate ACK：</strong></p>
<p>重复ACK，接收端向发送端回复重复ACK，中间期望收到的包没有收到</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226193834824.png"></p>
<p><strong>TCP Out-Of-Order：</strong></p>
<p> 乱序：TCP传输过程中相邻两个序号的包seq相差特别大，说明包的发送顺序 发生了错误。</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226193945798.png"></p>
<p><strong>TCP Previous segment not captured：</strong></p>
<p>丢包：TCP传输过程中各个包的seq是连续的，当后一个包 的seq&gt;前一个包的seq+len，说明中间有一段数据的缺失了。</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226194027613.png"></p>
<p><strong>TCP Fast Retransmission：</strong></p>
<p>当发送方收到3个或以上的【TCP Dup ACK】，就意识到之前发的包可能丢了，于是快速重传它。</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226193917784.png"></p>
<p><strong>TCP  Retransmission：</strong></p>
<p>超时重传：包丢失后，没有后续的包在客户端触发Dup ACK，导致客户端超 时重传它</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226194055454.png"></p>
<p><strong>TCP Spurious Retransmission：</strong></p>
<p>TCP虚假超时重传报文。抓到两次同一包数据，证明网络发生了重传，但却没有丢失。</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226194111607.png"></p>
<h5 id="3、拥塞控制"><a href="#3、拥塞控制" class="headerlink" title="3、拥塞控制"></a>3、拥塞控制</h5><h6 id="任一端限制网卡传入-传出带宽为-10Mbps-以下："><a href="#任一端限制网卡传入-传出带宽为-10Mbps-以下：" class="headerlink" title="任一端限制网卡传入/传出带宽为 10Mbps 以下："></a>任一端限制网卡传入/传出带宽为 10Mbps 以下：</h6><p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226195658151.png"></p>
<h6 id="再启动应用-可以是-http-wget，也可以-ftp-下载-上传-传输大文件观察。"><a href="#再启动应用-可以是-http-wget，也可以-ftp-下载-上传-传输大文件观察。" class="headerlink" title="再启动应用 (可以是 http wget，也可以 ftp 下载/上传) 传输大文件观察。"></a>再启动应用 (可以是 http wget，也可以 ftp 下载/上传) 传输大文件观察。</h6><p>服务器重新生成一个20M文件，客户端对此进行下载：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226195938656.png"></p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226200005367.png"></p>
<h6 id="Wireshark-捕捉全部传输过程数据，找出该网络活动的拥塞点，并结合-Analyze→Expert-Information、Statistic→IO-Graphs、Statistic→TCP-Stream-Graphs，分析此传输过程中的-慢启动、拥塞避免、快速恢复等阶段。"><a href="#Wireshark-捕捉全部传输过程数据，找出该网络活动的拥塞点，并结合-Analyze→Expert-Information、Statistic→IO-Graphs、Statistic→TCP-Stream-Graphs，分析此传输过程中的-慢启动、拥塞避免、快速恢复等阶段。" class="headerlink" title="Wireshark 捕捉全部传输过程数据，找出该网络活动的拥塞点，并结合 Analyze→Expert Information、Statistic→IO Graphs、Statistic→TCP Stream Graphs，分析此传输过程中的 慢启动、拥塞避免、快速恢复等阶段。"></a>Wireshark 捕捉全部传输过程数据，找出该网络活动的拥塞点，并结合 Analyze→Expert Information、Statistic→IO Graphs、Statistic→TCP Stream Graphs，分析此传输过程中的 慢启动、拥塞避免、快速恢复等阶段。</h6><p>抓取的包为<code>101010.pcapng</code></p>
<p>Analyze→Expert Information：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226201021880.png"></p>
<p>可见在传输过程中，重传156次，涌口大小更新553次</p>
<p>Statistic→IO Graphs：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226200505332.png"></p>
<p>Statistic→TCP Stream Graphs：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226200609586.png"></p>
<p>慢开始，拥塞窗口指数增长：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226200753373.png"></p>
<p>出现拥塞避免，拥塞窗口线性增长：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226200832266.png"></p>
<hr>
<h4 id="任务2：FTP分析"><a href="#任务2：FTP分析" class="headerlink" title="任务2：FTP分析"></a>任务2：FTP分析</h4><h5 id="ftp主动连接："><a href="#ftp主动连接：" class="headerlink" title="ftp主动连接："></a>ftp主动连接：</h5><p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226201740825.png"></p>
<p>下载文件：</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226201750942.png"></p>
<p>观察抓包情况：</p>
<p>抓取的包为<code>111111.pcapng</code></p>
<p>从登陆ftp就开始捕获，发现一共有4个TCP流</p>
<p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226202107920.png"></p>
<p>0号TCP流为服务器21号端口和客户端34404端口建立连接用于建立FTP连接</p>
<p>1号TCP流为服务器35734和客户端30035端口建立连接用于传输数据，但出发了TCP重传，所以才有了后续两个流的产生，2号与3号流都是为重传这份数据而产生的TCP流。</p>
<h5 id="ftp被动连接："><a href="#ftp被动连接：" class="headerlink" title="ftp被动连接："></a>ftp被动连接：</h5><p><img src="/2021/12/28/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E9%80%9A%E4%BF%A1%E3%80%8B%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%BF%90%E8%BE%93%E5%B1%82%E5%92%8C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90/image-20211226203451629.png"></p>
<p>发现建立连接失败</p>
<h5 id="两种连接方式的区别："><a href="#两种连接方式的区别：" class="headerlink" title="两种连接方式的区别："></a>两种连接方式的区别：</h5><p>主动模式的连接过程：</p>
<p> 客户端动态的选择一个端口（这个端口号一定是1024以上的，因为1024以前的端口都已经预先被定义好）向服务器端的FTP端口（默认是21）发送连接请求，服务器接受连接，建立一个命令连接。当需要传送数据时或者列出服务器的文件列表时（通常使用ls或dir命令），客户端通过命令连接告诉服务器（使用PORT命令）：“我已经打开了XX端口，请你过来连接”。于是服务器使用20端口向客户端的XX端口发送连接请求，建立一条数据连接来传送数据。</p>
<p>被动模式的连接过程：</p>
<p>客户端首先使用与主动连接模式相同的方法与服务器建立命令连接。当需要传送数据时，客户端通过命令连接告诉服务器（使用PASV命令）“我要连接你的XX端口，请问是否空闲”，如果恰好该端口空闲，服务器会告诉客户端：“你请求的端口空闲，可以建立连接（ACK确认信息）”，否则服务器会说“该端口已经占用，请换个端口（UNACK信息）”。如果客户端得到的是空闲的提示，就会利用该端口建立连接，否则就换个端口重新尝试，这也就是所谓的连接建立的协商过程.</p>
<p> PORT模式建立数据传输通道是由服务器端发起的，服务器使用20端口连接客户端的某一个大于1024的端口；在PASV模式中，数据传输的通道的建立是由FTP客户端发起的，他使用一个大于1024的端口连接服务器的1024以上的某一个端口。如果从C/S模型这个角度来说，PORT对于服务器来说是OUTBOUND，而PASV模式对于服务器是INBOUND.</p>
<h5 id="适用场景："><a href="#适用场景：" class="headerlink" title="适用场景："></a>适用场景：</h5><p>从安全性需求来看，如果客户端有防火墙或者没有网关，PORT模式可能连接失败，建议使用PASV模式。否则两种模式均可使用</p>
<hr>
<h3 id="实验总结："><a href="#实验总结：" class="headerlink" title="实验总结："></a>实验总结：</h3><p>本次实验内容较多，从中实践了大量TCP知识，同时也学习了一些基于TCP的应用层协议，如HTTP、 FTP等，让我直观地感受到TCP这一复杂的传输协议背后的精妙之处，直观的观察到了FTP在拥塞控制、 差错处理、三次握手四次挥手、洪泛攻击等，同时也学会了许多命令的应用。且再次使用了wireshark，认识到了这个软件的强大之处，在做一些网络数据分析的时候能提供很大的便利。</p>
<div id="paginator"></div></div><div id="post-footer"><hr><a href="/2022/05/08/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AE%9E%E9%AA%8C3%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E7%9A%84%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%E5%99%A8/">← Prev 编译原理实验3 自顶向下的语法分析器</a><span style="color: #fe2"> | </span><a href="/2021/12/19/UNIX%E5%AE%9E%E9%AA%8C5%20%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/">实验5 信号处理 Next →</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><details id="reward"><summary>打赏</summary><div id="alipay"><span>支付宝 | Alipay</span><br><img src="/img/Alipay.png"></div><div id="wechat"><span>微信 | WeChat</span><br><img src="/img/WeChat.png"></div></details><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: 'hFMtOfNpU9VjtV3HEvd6CFOr-gzGzoHsz'
 , appKey: '99rdLFCeg8bKHnu0EwNgbLym'
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/"> Dr.Blackfankt</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">11</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">4</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">2</span></div></section></div><div id="aside-block"><h1>INDEX</h1><div id="post-index"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">实验目的：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">实验内容：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A11%EF%BC%9ATCP%E4%B8%8E%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">2.1.</span> <span class="toc-text">任务1：TCP与拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81TCP%E6%AD%A3%E5%B8%B8%E8%BF%9E%E6%8E%A5%E8%A7%82%E5%AF%9F"><span class="toc-number">2.1.1.</span> <span class="toc-text">1、TCP正常连接观察</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%88%A9%E7%94%A8python%E8%87%AA%E5%B8%A6%E7%9A%84SimpleHTTPServer%E6%A8%A1%E5%9D%97%EF%BC%8C%E5%9C%A8PC2%E4%B8%8A%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E7%9A%84web%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%82%E7%BB%88%E7%AB%AF%E4%B8%8A%E8%BF%90%E8%A1%8Cecho-quot-TCPlabtest-quot-gt-index-html%E5%88%9B%E5%BB%BAindex-html%E6%96%87%E4%BB%B6%E4%B8%BA%E6%B5%8B%E8%AF%95%E7%AB%99%E9%A6%96%E9%A1%B5%EF%BC%8C%E8%BF%90%E8%A1%8Csudo-python-mSimpleHTTPServer80%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93web%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%9B%E6%89%93%E5%BC%80%E6%96%B0%E7%BB%88%E7%AB%AF%EF%BC%8C%E9%94%AE%E5%85%A5ss-tln%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E4%B8%BB%E6%9C%BA%E6%89%93%E5%BC%80%E7%9A%84TCP%E8%BF%9E%E6%8E%A5%EF%BC%8C%E7%A1%AE%E8%AE%A480%E7%AB%AF%E5%8F%A3%E5%A4%84%E7%90%86%E7%9B%91%E5%90%AC%E7%8A%B6%E6%80%81%E3%80%82"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">（1）利用python自带的SimpleHTTPServer模块，在PC2上启动一个简易的web服务器。终端上运行echo&quot;TCPlabtest&quot;&gt;index.html创建index.html文件为测试站首页，运行sudo python-mSimpleHTTPServer80启动一个简易web服务器；打开新终端，键入ss-tln查看当前主机打开的TCP连接，确认80端口处理监听状态。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%9C%A8PC1%E4%B8%8A%E6%89%93%E5%BC%80%E4%B8%80%E4%B8%AA%E7%BB%88%E7%AB%AF%EF%BC%8C%E9%94%AE%E5%85%A5sudo-wireshark%E5%90%AF%E5%8A%A8%E6%8A%93%E5%8C%85%E8%BD%AF%E4%BB%B6%EF%BC%9B%E5%86%8D%E6%89%93%E5%BC%80%E4%B8%80%E4%B8%AA%E6%96%B0%E7%BB%88%E7%AB%AF%EF%BC%8C%E9%94%AE%E5%85%A5curl-lt-PC2%E7%9A%84IP-gt-%EF%BC%9B%E5%81%9C%E6%AD%A2%E6%8A%93%E5%8C%85%EF%BC%8C%E5%9C%A8wireshark%E8%BF%87%E6%BB%A4%E5%87%BATCP%E7%B1%BB%E5%9E%8B%E6%8A%A5%E6%96%87%E3%80%82%E8%A7%82%E5%AF%9F%E9%A6%96%E4%B8%AATCP%E6%8A%A5%E6%96%87%E5%A4%B4%EF%BC%8C%E5%B9%B6%E5%88%86%E6%9E%90%E5%90%84%E6%AE%B5%E5%80%BC%E4%BB%A3%E8%A1%A8%E7%9A%84%E6%84%8F%E4%B9%89%E3%80%82"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">（2）在PC1上打开一个终端，键入sudo wireshark启动抓包软件；再打开一个新终端，键入curl&lt;PC2的IP&gt;；停止抓包，在wireshark过滤出TCP类型报文。观察首个TCP报文头，并分析各段值代表的意义。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%A7%82%E5%AF%9FTCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%8E%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E6%8A%A5%E6%96%87%EF%BC%8C%E6%B3%A8%E6%84%8F%E6%8A%A5%E6%96%87%E6%94%B6%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E5%8F%8C%E6%96%B9TCP%E7%8A%B6%E6%80%81%E7%9A%84%E5%8F%98%E5%8C%96%E3%80%82%E4%BB%A5%E6%9C%AC%E6%AC%A1%E6%8D%95%E8%8E%B7%E7%9A%84%E6%8A%A5%E6%96%87%E4%B8%BA%E4%BE%9D%E6%8D%AE%EF%BC%8C%E5%88%86%E5%88%AB%E7%94%BB%E5%87%BA%E6%9C%AC%E6%AC%A1TCP%E8%BF%9E%E6%8E%A5%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%8E%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E7%9A%84%E6%97%B6%E5%BA%8F%E5%9B%BE%EF%BC%8C%E7%BB%93%E5%90%88TCP%E7%8A%B6%E6%80%81%E6%9C%BA%EF%BC%8C%E5%9C%A8%E5%8F%8C%E6%96%B9%E5%90%84%E9%98%B6%E6%AE%B5%E6%A0%87%E5%87%BA%E5%AF%B9%E5%BA%94%E7%9A%84TCP%E7%8A%B6%E6%80%81%E3%80%82%E9%80%89%E6%8B%A9%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AATCP%E6%8A%A5%E6%96%87%EF%BC%8C%E9%85%8D%E5%90%88Wireshark%E6%88%AA%E5%9B%BE%EF%BC%8C%E5%88%86%E6%9E%90%E8%AF%A5%E6%8A%A5%E6%96%87TCP%E9%A6%96%E9%83%A8%E5%90%84%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AE%9A%E4%B9%89%E3%80%81%E5%80%BC%E5%8F%8A%E5%85%B6%E5%90%AB%E4%B9%89%E3%80%82"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">（3）观察TCP三次握手与四次挥手报文，注意报文收发过程中，双方TCP状态的变化。以本次捕获的报文为依据，分别画出本次TCP连接三次握手与四次挥手的时序图，结合TCP状态机，在双方各阶段标出对应的TCP状态。选择其中一个TCP报文，配合Wireshark截图，分析该报文TCP首部各字段的定义、值及其含义。</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%BC%82%E5%B8%B8%E4%BC%A0%E8%BE%93%E8%A7%82%E5%AF%9F%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">2.1.2.</span> <span class="toc-text">2、异常传输观察分析：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%B0%9D%E8%AF%95%E8%BF%9E%E6%8E%A5%E6%9C%AA%E5%AD%98%E6%B4%BB%E7%9A%84%E4%B8%BB%E6%9C%BA%E6%88%96%E5%AF%B9%E6%9C%AA%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E3%80%82"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">（1）尝试连接未存活的主机或对未监听端口。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E9%80%81%E4%BA%86%E7%AC%AC%E4%B8%80%E4%B8%AA-SYN-%E8%BF%9E%E6%8E%A5%E8%AF%B7%E6%B1%82%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0%E5%93%8D%E5%BA%94%E7%9A%84%E6%83%85%E6%99%AF%E3%80%82"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">(2) 客户端发送了第一个 SYN 连接请求，服务器无响应的情景。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%883%EF%BC%89SYN-%E6%B4%AA%E6%B3%9B%E3%80%82"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">（3）SYN 洪泛。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%BC%82%E5%B8%B8%E6%8A%A5%E6%96%87%E5%88%86%E6%9E%90"><span class="toc-number">2.1.2.4.</span> <span class="toc-text">（4）异常报文分析</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">2.1.3.</span> <span class="toc-text">3、拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%BB%E4%B8%80%E7%AB%AF%E9%99%90%E5%88%B6%E7%BD%91%E5%8D%A1%E4%BC%A0%E5%85%A5-%E4%BC%A0%E5%87%BA%E5%B8%A6%E5%AE%BD%E4%B8%BA-10Mbps-%E4%BB%A5%E4%B8%8B%EF%BC%9A"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">任一端限制网卡传入&#x2F;传出带宽为 10Mbps 以下：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%8D%E5%90%AF%E5%8A%A8%E5%BA%94%E7%94%A8-%E5%8F%AF%E4%BB%A5%E6%98%AF-http-wget%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5-ftp-%E4%B8%8B%E8%BD%BD-%E4%B8%8A%E4%BC%A0-%E4%BC%A0%E8%BE%93%E5%A4%A7%E6%96%87%E4%BB%B6%E8%A7%82%E5%AF%9F%E3%80%82"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">再启动应用 (可以是 http wget，也可以 ftp 下载&#x2F;上传) 传输大文件观察。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Wireshark-%E6%8D%95%E6%8D%89%E5%85%A8%E9%83%A8%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%89%BE%E5%87%BA%E8%AF%A5%E7%BD%91%E7%BB%9C%E6%B4%BB%E5%8A%A8%E7%9A%84%E6%8B%A5%E5%A1%9E%E7%82%B9%EF%BC%8C%E5%B9%B6%E7%BB%93%E5%90%88-Analyze%E2%86%92Expert-Information%E3%80%81Statistic%E2%86%92IO-Graphs%E3%80%81Statistic%E2%86%92TCP-Stream-Graphs%EF%BC%8C%E5%88%86%E6%9E%90%E6%AD%A4%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84-%E6%85%A2%E5%90%AF%E5%8A%A8%E3%80%81%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D%E3%80%81%E5%BF%AB%E9%80%9F%E6%81%A2%E5%A4%8D%E7%AD%89%E9%98%B6%E6%AE%B5%E3%80%82"><span class="toc-number">2.1.3.3.</span> <span class="toc-text">Wireshark 捕捉全部传输过程数据，找出该网络活动的拥塞点，并结合 Analyze→Expert Information、Statistic→IO Graphs、Statistic→TCP Stream Graphs，分析此传输过程中的 慢启动、拥塞避免、快速恢复等阶段。</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A12%EF%BC%9AFTP%E5%88%86%E6%9E%90"><span class="toc-number">2.2.</span> <span class="toc-text">任务2：FTP分析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ftp%E4%B8%BB%E5%8A%A8%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">2.2.1.</span> <span class="toc-text">ftp主动连接：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ftp%E8%A2%AB%E5%8A%A8%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">2.2.2.</span> <span class="toc-text">ftp被动连接：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">2.2.3.</span> <span class="toc-text">两种连接方式的区别：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">2.2.4.</span> <span class="toc-text">适用场景：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">实验总结：</span></a></li></ol></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">2020 to 2021</span></nobr><wbr><nobr><span class="text-title">ICP</span><span class="text-content">——备案号——</span></nobr><wbr><wbr><nobr>published with&nbsp;<a target="_blank" rel="noopener" href="http://hexo.io">Hexo&nbsp;</a></nobr><wbr><nobr>Theme&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight&nbsp;</a></nobr><wbr><nobr>by&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="//unpkg.com/@highlightjs/cdn-assets@11.4.0/highlight.min.js"></script></body></html>